\input sys/inputs.tex
\usepackage[czech]{babel}

\begin{document}

\bigheading{Domotané heslo}

% \info{task_name}{infile}{outfile}{points}{timelimit}{memlimit}
% leave this values, if you are not interested
\info{password}{stdin}{stdout}{100}{500 ms}{1 GB}

Alice si právě zapisuje velmi tajné heslo, které je jí diktováno.
Pro jistotu diktující zopakuje heslo ještě jednou a Alice pokračuje v zapisování,
aby mohla odhalit případné chyby.

A jak si tak Alice zapisuje heslo, najednou si uvědomí, že se v jednom písmenu spletla.
To ji natolik vyvede z míry, že si přestane diktované heslo zapisovat, a tak jí nejspíš chybí konec opakovaného hesla.
A co je ještě horší, najednou zjistila, že si nijak nepoznačila předěl mezi
koncem hesla a začátkem jeho opakování. Kdopak jí pomůže heslo zrekonstruovat?

\heading{Úloha}

Je dán řetězec $S[0..(n-1)]$ malých písmen anglické abecedy.
Najděte první pozici $i$ v řetězci, kde by mohlo začínat zopakované heslo.
Přesněji řečeno: najděte index $i$ vyhovující následujícím podmínkám:

\begin{enumerate}
    \item $\frac{n}{2} \leq i < n$
    \item Podřetězce $S[i\ldots n-1]$ a $S[0\ldots (n - i - 1)]$ se liší v \textbf{právě}
	jednom písmenu.
    \item Mezi všemi indexy splňujícími předchozí dvě podmínky je $i$ nejmenší možné.
\end{enumerate}

\heading{Vstup}

První řádek vstupu obsahuje celé číslo $n$ ($2 \leq n \leq 500\,000$) -- počet písmen řetězce $S$.
Druhý řádek obsahuje samotný řetězec $S$ (sestávající jen z malých písmen anglické abecedy).

\heading{Výstup}

Na jediný řádek výstupu vypište jediné číslo -- hledaný index $i$.
Pokud žádný vyhovující index neexistuje, vypište $-1$.

\heading{Podproblémy}

\centering
\begin{tabular}{|l|l|l|}
\hline
podproblém & body & nejvyšší $n$  \\ \hline
1       & 25     & 20           \\ \hline
2       & 25     & 5000         \\ \hline
3       & 50     & 500000       \\ \hline
\end{tabular}


\heading{Příklady}


\sampleIN
8
abaaaaaa
\sampleOUT
4
\sampleCOMMENT
Odpovídající podřetězce jsou \texttt{abaa} a \texttt{aaaa}.
\sampleEND


\bigskip


\sampleIN
9
abcdefghi
\sampleOUT
8
\sampleEND

\bigskip

\sampleIN
5
aaaaa
\sampleOUT
-1
\sampleEND

\end{document}
